<!DOCTYPE html>
<html>
<body>
<h1>WebWorkers</h1>
<script>
    
    
    if ('serviceWorker' in navigator) {
        window.addEventListener('load', function () {
            Notification.requestPermission(function (permission) {
// Если права успешно получены, отправляем уведомление
                if (permission === "granted") {	
                    navigator.serviceWorker.register('service-worker.js').then(function (registration) {
                        // Регистрация успешна
                        console.log('ServiceWorker registration successful with scope: ', registration);
                        console.log("registration.showNotification(123) ", registration.showNotification(123));
                        console.log("registration.PushManager.subscribe() ", registration.PushManager.subscribe());
                        console.log("PushManager.subscribe() ", PushManager.subscribe());
                    }).catch(function (err) {
                        // Регистрация не успешна
                        console.log('ServiceWorker registration failed: ', err);
                    });
                }
            });
        });
    }
</script>
</body>
</html>
